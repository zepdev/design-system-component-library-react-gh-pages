{"version":3,"file":"Table.stories-ad508d4b.js","sources":["../../src/components/table/table.interface.ts","../../src/components/table/Table.tsx"],"sourcesContent":["import { MouseEvent } from 'react';\nexport enum TableThemes {\n  Zps = 'ZPS',\n  Cat = 'CAT',\n}\n\nexport enum cellType {\n  Text = 'text',\n  Icon = 'icon',\n  Booliean = 'boolean',\n}\nexport interface TableCell extends React.HTMLAttributes<HTMLTableElement> {\n  value: string;\n  type: cellType;\n}\n\nexport interface TableRow extends React.HTMLAttributes<HTMLTableElement> {\n  rowCells: TableCell[];\n}\n\nexport interface TableHeads extends React.HTMLAttributes<HTMLTableElement> {\n  name: string;\n}\n\nexport interface TableProps extends React.HTMLAttributes<HTMLTableElement> {\n  rows: TableRow[];\n  columnNames: TableHeads[];\n  maxWidth?: number;\n  maxHeight?: number;\n  fullWidth?: boolean;\n  variant?: TableThemes;\n  textTop?: boolean;\n  descriptionTop?: string;\n  descriptionBottom: string;\n  buttonLabel: string;\n  align?: 'left' | 'center' | 'right';\n  tableButtonOnClick: (ev: MouseEvent<HTMLElement>) => void;\n  iconButtonOnClick?: (ev: MouseEvent<HTMLElement>) => void;\n}\n\nexport interface TableBodyProps extends React.HTMLAttributes<HTMLTableSectionElement> {\n  children: React.ReactNode;\n}\n\nexport interface TableCellProps extends React.HTMLAttributes<HTMLTableCellElement> {\n  children: React.ReactNode;\n  align?: 'left' | 'center' | 'right';\n  isFirstRow?: boolean;\n}\n\nexport interface TableHeadCellProps extends React.HTMLAttributes<HTMLTableCellElement> {\n  children: React.ReactNode;\n  align?: 'left' | 'center' | 'right';\n}\n\nexport interface TableHeadProps extends React.HTMLAttributes<HTMLTableSectionElement> {\n  children: React.ReactNode;\n}\n\nexport interface TableRowProps extends React.HTMLAttributes<HTMLTableRowElement> {\n  children: React.ReactNode;\n}\n","import { cva } from 'class-variance-authority';\nimport clsx from 'clsx';\nimport { createContext, useContext } from 'react';\nimport { twMerge } from 'tailwind-merge';\nimport { Button } from '../../components/button';\nimport { ZPSButton, ZpsButtonVariant } from '../../powerSystemes-components/zps-button';\nimport { ButtonVariant } from '../button/button.interface';\nimport {\n  cellType,\n  TableBodyProps,\n  TableCellProps,\n  TableHeadCellProps,\n  TableHeadProps,\n  TableProps,\n  TableRowProps,\n  TableThemes,\n} from './table.interface';\nconst TableContext = createContext({\n  variant: TableThemes.Zps,\n});\nexport const useTableContext = () => useContext(TableContext);\n\nconst TableBody = ({ children, ...props }: TableBodyProps) => {\n  return <tbody {...props}>{children}</tbody>;\n};\n\nconst TableCell = ({ children, className, isFirstRow, align, ...props }: TableCellProps) => {\n  const { variant } = useTableContext();\n  const tableVariants = {\n    [TableThemes.Zps]: ['zep-text-typography-primary-default '],\n    [TableThemes.Cat]: ['zep-text-typography-dark-100'],\n  };\n  // const tableCellBackgrounds = {\n  //   [TableThemes.Cat]: ['zep-bg-yellow-40%'],\n  //   [TableThemes.Zps]: ['zep-bg-greyscale-0'],\n  // };\n\n  const tableCellStyles = cva(\n    [\n      `\n    zep-inline-block\n    zep-text-right\n    sm:zep-text-unset\n    sm:zep-py-0.5\n    zep-w-full\n   zep-typography-bodyText\n      `,\n    ],\n    {\n      variants: {\n        variant: tableVariants,\n      },\n      defaultVariants: {\n        variant: TableThemes.Zps,\n      },\n    },\n  );\n  // const firstRowClass = isFirstRow ? tableCellBackgrounds[variant] : 'zep-bg-greyscale-0';\n  return (\n    <td\n      className={clsx(\n        ` zep-justify-between sm:zep-table-cell zep-relative md:zep-px-1.5 zep-p-0.75 sm:zep-p-0.5 zep-bg-greyscale-0  lg:zep-whitespace-nowrap zep-group`,\n        className,\n      )}\n      style={{\n        textAlign: align,\n      }}\n      {...props}\n    >\n      <span\n        className={twMerge(\n          tableCellStyles({ variant }),\n          variant === TableThemes.Zps ? '[&svg]:zep-fill-indigo-500' : '[&svg]:zep-fill-darkgrey-500',\n        )}\n      >\n        {children}\n      </span>\n      <hr className=\"group-first:zep-block zep-absolute zep-h-[1px] zep-bottom-[0] zep-left-[0] zep-right-[0] zep-text-greyscale-400\" />\n    </td>\n  );\n};\n\nconst TableHead = ({ children, className, ...props }: TableHeadProps) => {\n  const { variant } = useTableContext();\n  const tableVariants = {\n    [TableThemes.Zps]: ['zep-bg-indigo-500'],\n    [TableThemes.Cat]: ['zep-bg-yellow-500'],\n  };\n\n  const tableHeadStyles = cva(\n    [\n      `\n      sm:zep-table-row-group`,\n    ],\n    {\n      variants: {\n        variant: tableVariants,\n      },\n      defaultVariants: {\n        variant: TableThemes.Zps,\n      },\n    },\n  );\n  return (\n    <thead className={twMerge(tableHeadStyles({ variant, className }))} {...props}>\n      {children}\n    </thead>\n  );\n};\n\nconst TableHeadCell = ({ children, className, align = 'left', ...props }: TableHeadCellProps) => {\n  const { variant } = useTableContext();\n  const tableVariants = {\n    [TableThemes.Zps]: ['zep-text-typography-light-100'],\n    [TableThemes.Cat]: ['zep-text-typography-dark-100'],\n  };\n\n  const tableHeadCellStyles = cva(\n    [\n      `\n      zep-inline-block\n      lg:zep-py-0.5\n      zep-w-full\n      zep-typography-bodyStrong`,\n    ],\n    {\n      variants: {\n        variant: tableVariants,\n      },\n      defaultVariants: {\n        variant: TableThemes.Zps,\n      },\n    },\n  );\n  return (\n    <th\n      className={clsx('zep-relative md:zep-px-1.5 zep-p-0.75 sm:zep-p-0.5 lg:zep-whitespace-nowrap', className)}\n      style={{\n        textAlign: align,\n      }}\n      {...props}\n    >\n      <span className={twMerge(tableHeadCellStyles({ variant }))}>{children}</span>\n      <hr className=\"zep-absolute zep-border-t-2 zep-bottom-[0] zep-left-[0] zep-right-[0] zep-text-greyscale-900\" />\n    </th>\n  );\n};\n\nconst TableRow = ({ children, className, ...props }: TableRowProps) => {\n  return (\n    <tr className={clsx(' zep-mb-2 zep-table-row sm:zep-sm-[0px]', className)} {...props}>\n      {children}\n    </tr>\n  );\n};\n\nconst Table = ({\n  children,\n  className,\n  variant = TableThemes.Zps,\n  maxWidth,\n  maxHeight,\n  fullWidth,\n  textTop = true,\n  buttonLabel,\n  descriptionBottom,\n  descriptionTop,\n  rows,\n  columnNames,\n  align,\n  tableButtonOnClick,\n  iconButtonOnClick,\n  ...props\n}: TableProps) => {\n  const getCellType = (type, value) => {\n    switch (type) {\n      case cellType.Text:\n        return <p>{value}</p>;\n      case cellType.Icon:\n        return (\n          <div>\n            <Button\n              icon={value}\n              variant={variant === TableThemes.Zps ? ButtonVariant.Tertiary : ButtonVariant.DarkTertiary}\n              onClick={iconButtonOnClick}\n            ></Button>\n          </div>\n        );\n\n      default:\n        return <div></div>;\n    }\n  };\n\n  return (\n    <TableContext.Provider value={{ variant }}>\n      <>\n        {textTop && (\n          <div\n            className={`zep-mb-2.5 ${\n              variant === TableThemes.Zps ? 'zep-text-typography-primary-default' : 'zep-text-typography-dark-100'\n            }`}\n          >\n            <p>{descriptionTop}</p>\n          </div>\n        )}\n\n        <div\n          className={clsx('zep-overflow-scroll zep-w-full sm:zep-w-auto', className, {\n            'sm:zep-w-full': fullWidth,\n          })}\n          style={{\n            maxWidth,\n            maxHeight,\n          }}\n          data-testid=\"zep-table\"\n        >\n          <table\n            className={clsx('zep-table zep-w-full sm:zep-w-auto', {\n              'sm:zep-w-full': fullWidth,\n            })}\n            {...props}\n          >\n            <Table.Head>\n              <Table.Row>\n                {columnNames.map((value, index) => (\n                  <Table.HeadCell\n                    className={\n                      index === 0\n                        ? `zep-sticky zep-left-[0] zep-z-20  zep-drop-shadow-lg zep-min-w-[100px] ${\n                            variant === TableThemes.Zps ? 'zep-bg-indigo-500' : 'zep-bg-yellow-500'\n                          }`\n                        : ''\n                    }\n                    key={`table-align-${align}-head-cell-${index}`}\n                    align={align}\n                  >\n                    {value.name}\n                  </Table.HeadCell>\n                ))}\n              </Table.Row>\n            </Table.Head>\n\n            <Table.Body>\n              {rows.map((rowData, rowIndex) => (\n                <Table.Row key={`table-align-${align}-row-${rowIndex}`}>\n                  {rowData.rowCells.map((cellData, cellIndex) => (\n                    <Table.Cell\n                      key={`table-align-${align}-cell-${rowIndex}-${cellIndex}`}\n                      align={align}\n                      isFirstRow={rowIndex === 0}\n                      className={\n                        cellIndex === 0 ? 'zep-sticky zep-left-[0] zep-z-20  zep-drop-shadow-lg zep-min-w-[100px]' : ''\n                      }\n                    >\n                      <div>{getCellType(cellData.type, cellData.value)}</div>\n                    </Table.Cell>\n                  ))}\n                </Table.Row>\n              ))}\n            </Table.Body>\n          </table>\n        </div>\n        <div\n          className={`zep-my-2.5 ${\n            variant === TableThemes.Zps ? 'zep-text-typography-primary-default' : 'zep-text-typography-dark-100'\n          }`}\n        >\n          <p>{descriptionBottom}</p>\n        </div>\n        <div>\n          <ZPSButton\n            label={buttonLabel}\n            variant={ZpsButtonVariant.Primary}\n            labelClass=\"zep-text-indigo-500\"\n            onClick={tableButtonOnClick}\n          ></ZPSButton>\n        </div>\n      </>\n    </TableContext.Provider>\n  );\n};\nTable.Body = TableBody;\nTable.Cell = TableCell;\nTable.Head = TableHead;\nTable.HeadCell = TableHeadCell;\nTable.Row = TableRow;\n\nexport { Table };\n"],"names":["TableThemes","cellType","TableContext","createContext","useTableContext","useContext","TableBody","children","props","jsx","TableCell","className","isFirstRow","align","variant","tableVariants","tableCellStyles","cva","jsxs","clsx","twMerge","TableHead","tableHeadStyles","TableHeadCell","tableHeadCellStyles","TableRow","Table","maxWidth","maxHeight","fullWidth","textTop","buttonLabel","descriptionBottom","descriptionTop","rows","columnNames","tableButtonOnClick","iconButtonOnClick","getCellType","type","value","Button","ButtonVariant","Fragment","index","rowData","rowIndex","cellData","cellIndex","ZPSButton","ZpsButtonVariant"],"mappings":"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"}