import{j as y,c as C}from"./clsx-667af910.js";import{r as c,R as V}from"./index-37ba2b57.js";import{o as x,S as se,D as M,y as A,T as he,u as E,l as W,h as ye,a as ze,b as Re,p as X,c as Oe,d as J,e as Se,f as Le,g as Ie,R as we,X as B,I as Y,i as fe,s as De,C as Te,j as ke,k as Ce,m as $e,n as w,q as O,r as Pe,t as re,x as Ee,v as qe,w as Fe}from"./getDistanceToBottom-9e685d19.js";import{F as ne}from"./Icon-ceed2606.js";import{t as Ne}from"./tw-merge-1166cefb.js";let de=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ce(e){var a,o;let n=(a=e.innerText)!=null?a:"",l=e.cloneNode(!0);if(!(l instanceof HTMLElement))return n;let u=!1;for(let i of l.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),u=!0;let t=u?(o=l.innerText)!=null?o:"":n;return de.test(t)&&(t=t.replace(de,"")),t}function je(e){let a=e.getAttribute("aria-label");if(typeof a=="string")return a.trim();let o=e.getAttribute("aria-labelledby");if(o){let n=o.split(" ").map(l=>{let u=document.getElementById(l);if(u){let t=u.getAttribute("aria-label");return typeof t=="string"?t.trim():ce(u).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return ce(e).trim()}function Ve(e){let a=c.useRef(""),o=c.useRef("");return x(()=>{let n=e.current;if(!n)return"";let l=n.innerText;if(a.current===l)return o.current;let u=je(n).trim().toLowerCase();return a.current=l,o.current=u,u})}var Me=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Me||{}),Ae=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ae||{}),Be=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Be||{}),He=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(He||{});function ae(e,a=o=>o){let o=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=qe(a(e.options.slice()),u=>u.dataRef.current.domRef.current),l=o?n.indexOf(o):null;return l===-1&&(l=null),{options:n,activeOptionIndex:l}}let Qe={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let a=e.activeOptionIndex,{isSelected:o}=e.dataRef.current,n=e.options.findIndex(l=>o(l.dataRef.current.value));return n!==-1&&(a=n),{...e,listboxState:0,activeOptionIndex:a}},2(e,a){var o;if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=ae(e),l=Ee(a,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeOptionIndex:l,activationTrigger:(o=a.trigger)!=null?o:1}},3:(e,a)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let o=e.searchQuery!==""?0:1,n=e.searchQuery+a.value.toLowerCase(),l=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+o).concat(e.options.slice(0,e.activeOptionIndex+o)):e.options).find(t=>{var i;return!t.dataRef.current.disabled&&((i=t.dataRef.current.textValue)==null?void 0:i.startsWith(n))}),u=l?e.options.indexOf(l):-1;return u===-1||u===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:u,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,a)=>{let o={id:a.id,dataRef:a.dataRef},n=ae(e,l=>[...l,o]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(a.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(o)),{...e,...n}},6:(e,a)=>{let o=ae(e,n=>{let l=n.findIndex(u=>u.id===a.id);return l!==-1&&n.splice(l,1),n});return{...e,...o,activationTrigger:1}},7:(e,a)=>({...e,labelId:a.id})},oe=c.createContext(null);oe.displayName="ListboxActionsContext";function H(e){let a=c.useContext(oe);if(a===null){let o=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,H),o}return a}let le=c.createContext(null);le.displayName="ListboxDataContext";function Q(e){let a=c.useContext(le);if(a===null){let o=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Q),o}return a}function _e(e,a){return E(a.type,Qe,e,a)}let Ue=c.Fragment;function Ge(e,a){let{value:o,defaultValue:n,form:l,name:u,onChange:t,by:i=(d,f)=>d===f,disabled:b=!1,horizontal:s=!1,multiple:z=!1,...g}=e;const k=s?"horizontal":"vertical";let D=A(a),[h=z?[]:void 0,S]=he(o,t,n),[p,r]=c.useReducer(_e,{dataRef:c.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),m=c.useRef({static:!1,hold:!1}),I=c.useRef(null),q=c.useRef(null),$=c.useRef(null),R=x(typeof i=="string"?(d,f)=>{let L=i;return(d==null?void 0:d[L])===(f==null?void 0:f[L])}:i),T=c.useCallback(d=>E(v.mode,{1:()=>h.some(f=>R(f,d)),0:()=>R(h,d)}),[h]),v=c.useMemo(()=>({...p,value:h,disabled:b,mode:z?1:0,orientation:k,compare:R,isSelected:T,optionsPropsRef:m,labelRef:I,buttonRef:q,optionsRef:$}),[h,b,z,p]);W(()=>{p.dataRef.current=v},[v]),ye([v.buttonRef,v.optionsRef],(d,f)=>{var L;r({type:1}),ze(f,Re.Loose)||(d.preventDefault(),(L=v.buttonRef.current)==null||L.focus())},v.listboxState===0);let Z=c.useMemo(()=>({open:v.listboxState===0,disabled:b,value:h}),[v,b,h]),ee=x(d=>{let f=v.options.find(L=>L.id===d);f&&N(f.dataRef.current.value)}),te=x(()=>{if(v.activeOptionIndex!==null){let{dataRef:d,id:f}=v.options[v.activeOptionIndex];N(d.current.value),r({type:2,focus:w.Specific,id:f})}}),_=x(()=>r({type:0})),U=x(()=>r({type:1})),P=x((d,f,L)=>d===w.Specific?r({type:2,focus:w.Specific,id:f,trigger:L}):r({type:2,focus:d,trigger:L})),ie=x((d,f)=>(r({type:5,id:d,dataRef:f}),()=>r({type:6,id:d}))),F=x(d=>(r({type:7,id:d}),()=>r({type:7,id:null}))),N=x(d=>E(v.mode,{0(){return S==null?void 0:S(d)},1(){let f=v.value.slice(),L=f.findIndex(K=>R(K,d));return L===-1?f.push(d):f.splice(L,1),S==null?void 0:S(f)}})),be=x(d=>r({type:3,value:d})),me=x(()=>r({type:4})),ve=c.useMemo(()=>({onChange:N,registerOption:ie,registerLabel:F,goToOption:P,closeListbox:U,openListbox:_,selectActiveOption:te,selectOption:ee,search:be,clearSearch:me}),[]),xe={ref:D},G=c.useRef(null),ge=X();return c.useEffect(()=>{G.current&&n!==void 0&&ge.addEventListener(G.current,"reset",()=>{S==null||S(n)})},[G,S]),V.createElement(oe.Provider,{value:ve},V.createElement(le.Provider,{value:v},V.createElement(Oe,{value:E(v.listboxState,{0:J.Open,1:J.Closed})},u!=null&&h!=null&&Se({[u]:h}).map(([d,f],L)=>V.createElement(Le,{features:Ie.Hidden,ref:L===0?K=>{var ue;G.current=(ue=K==null?void 0:K.closest("form"))!=null?ue:null}:void 0,...we({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:l,name:d,value:f})})),B({ourProps:xe,theirProps:g,slot:Z,defaultTag:Ue,name:"Listbox"}))))}let Ke="button";function We(e,a){var o;let n=Y(),{id:l=`headlessui-listbox-button-${n}`,...u}=e,t=Q("Listbox.Button"),i=H("Listbox.Button"),b=A(t.buttonRef,a),s=X(),z=x(p=>{switch(p.key){case O.Space:case O.Enter:case O.ArrowDown:p.preventDefault(),i.openListbox(),s.nextFrame(()=>{t.value||i.goToOption(w.First)});break;case O.ArrowUp:p.preventDefault(),i.openListbox(),s.nextFrame(()=>{t.value||i.goToOption(w.Last)});break}}),g=x(p=>{switch(p.key){case O.Space:p.preventDefault();break}}),k=x(p=>{if(Pe(p.currentTarget))return p.preventDefault();t.listboxState===0?(i.closeListbox(),s.nextFrame(()=>{var r;return(r=t.buttonRef.current)==null?void 0:r.focus({preventScroll:!0})})):(p.preventDefault(),i.openListbox())}),D=fe(()=>{if(t.labelId)return[t.labelId,l].join(" ")},[t.labelId,l]),h=c.useMemo(()=>({open:t.listboxState===0,disabled:t.disabled,value:t.value}),[t]),S={ref:b,id:l,type:De(e,t.buttonRef),"aria-haspopup":"listbox","aria-controls":(o=t.optionsRef.current)==null?void 0:o.id,"aria-expanded":t.listboxState===0,"aria-labelledby":D,disabled:t.disabled,onKeyDown:z,onKeyUp:g,onClick:k};return B({ourProps:S,theirProps:u,slot:h,defaultTag:Ke,name:"Listbox.Button"})}let Xe="label";function Je(e,a){let o=Y(),{id:n=`headlessui-listbox-label-${o}`,...l}=e,u=Q("Listbox.Label"),t=H("Listbox.Label"),i=A(u.labelRef,a);W(()=>t.registerLabel(n),[n]);let b=x(()=>{var z;return(z=u.buttonRef.current)==null?void 0:z.focus({preventScroll:!0})}),s=c.useMemo(()=>({open:u.listboxState===0,disabled:u.disabled}),[u]);return B({ourProps:{ref:i,id:n,onClick:b},theirProps:l,slot:s,defaultTag:Xe,name:"Listbox.Label"})}let Ye="ul",Ze=se.RenderStrategy|se.Static;function et(e,a){var o;let n=Y(),{id:l=`headlessui-listbox-options-${n}`,...u}=e,t=Q("Listbox.Options"),i=H("Listbox.Options"),b=A(t.optionsRef,a),s=X(),z=X(),g=Te(),k=(()=>g!==null?(g&J.Open)===J.Open:t.listboxState===0)();c.useEffect(()=>{var r;let m=t.optionsRef.current;m&&t.listboxState===0&&m!==((r=ke(m))==null?void 0:r.activeElement)&&m.focus({preventScroll:!0})},[t.listboxState,t.optionsRef]);let D=x(r=>{switch(z.dispose(),r.key){case O.Space:if(t.searchQuery!=="")return r.preventDefault(),r.stopPropagation(),i.search(r.key);case O.Enter:if(r.preventDefault(),r.stopPropagation(),t.activeOptionIndex!==null){let{dataRef:m}=t.options[t.activeOptionIndex];i.onChange(m.current.value)}t.mode===0&&(i.closeListbox(),re().nextFrame(()=>{var m;return(m=t.buttonRef.current)==null?void 0:m.focus({preventScroll:!0})}));break;case E(t.orientation,{vertical:O.ArrowDown,horizontal:O.ArrowRight}):return r.preventDefault(),r.stopPropagation(),i.goToOption(w.Next);case E(t.orientation,{vertical:O.ArrowUp,horizontal:O.ArrowLeft}):return r.preventDefault(),r.stopPropagation(),i.goToOption(w.Previous);case O.Home:case O.PageUp:return r.preventDefault(),r.stopPropagation(),i.goToOption(w.First);case O.End:case O.PageDown:return r.preventDefault(),r.stopPropagation(),i.goToOption(w.Last);case O.Escape:return r.preventDefault(),r.stopPropagation(),i.closeListbox(),s.nextFrame(()=>{var m;return(m=t.buttonRef.current)==null?void 0:m.focus({preventScroll:!0})});case O.Tab:r.preventDefault(),r.stopPropagation();break;default:r.key.length===1&&(i.search(r.key),z.setTimeout(()=>i.clearSearch(),350));break}}),h=fe(()=>{var r,m,I;return(I=(r=t.labelRef.current)==null?void 0:r.id)!=null?I:(m=t.buttonRef.current)==null?void 0:m.id},[t.labelRef.current,t.buttonRef.current]),S=c.useMemo(()=>({open:t.listboxState===0}),[t]),p={"aria-activedescendant":t.activeOptionIndex===null||(o=t.options[t.activeOptionIndex])==null?void 0:o.id,"aria-multiselectable":t.mode===1?!0:void 0,"aria-labelledby":h,"aria-orientation":t.orientation,id:l,onKeyDown:D,role:"listbox",tabIndex:0,ref:b};return B({ourProps:p,theirProps:u,slot:S,defaultTag:Ye,features:Ze,visible:k,name:"Listbox.Options"})}let tt="li";function nt(e,a){let o=Y(),{id:n=`headlessui-listbox-option-${o}`,disabled:l=!1,value:u,...t}=e,i=Q("Listbox.Option"),b=H("Listbox.Option"),s=i.activeOptionIndex!==null?i.options[i.activeOptionIndex].id===n:!1,z=i.isSelected(u),g=c.useRef(null),k=Ve(g),D=Ce({disabled:l,value:u,domRef:g,get textValue(){return k()}}),h=A(a,g);W(()=>{if(i.listboxState!==0||!s||i.activationTrigger===0)return;let R=re();return R.requestAnimationFrame(()=>{var T,v;(v=(T=g.current)==null?void 0:T.scrollIntoView)==null||v.call(T,{block:"nearest"})}),R.dispose},[g,s,i.listboxState,i.activationTrigger,i.activeOptionIndex]),W(()=>b.registerOption(n,D),[D,n]);let S=x(R=>{if(l)return R.preventDefault();b.onChange(u),i.mode===0&&(b.closeListbox(),re().nextFrame(()=>{var T;return(T=i.buttonRef.current)==null?void 0:T.focus({preventScroll:!0})}))}),p=x(()=>{if(l)return b.goToOption(w.Nothing);b.goToOption(w.Specific,n)}),r=$e(),m=x(R=>r.update(R)),I=x(R=>{r.wasMoved(R)&&(l||s||b.goToOption(w.Specific,n,0))}),q=x(R=>{r.wasMoved(R)&&(l||s&&b.goToOption(w.Nothing))}),$=c.useMemo(()=>({active:s,selected:z,disabled:l}),[s,z,l]);return B({ourProps:{id:n,ref:h,role:"option",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,"aria-selected":z,disabled:void 0,onClick:S,onFocus:p,onPointerEnter:m,onMouseEnter:m,onPointerMove:I,onMouseMove:I,onPointerLeave:q,onMouseLeave:q},theirProps:t,slot:$,defaultTag:tt,name:"Listbox.Option"})}let at=M(Ge),rt=M(We),ot=M(Je),lt=M(et),it=M(nt),j=Object.assign(at,{Button:rt,Label:ot,Options:lt,Option:it});const ut=268,st=(e,a)=>C("zep-flex zep-w-full zep-items-center zep-justify-between zep-bg-background-light zep-px-1 zep-py-0.75",{"zep-bg-background-medium":e},{"zep-bg-background-medium":a},{"zep-pr-3":a}),pe=c.forwardRef(({disabled:e=!1,items:a,message:o,label:n,placeholder:l,required:u,notRequiredHint:t="(optional)",readOnly:i=!1,state:b="default",...s},z)=>{const[g,k]=c.useState(null),D=V.useRef(null),h=b==="error",S=b==="info",p=e||i,r=h?"zep-text-error":S?"zep-text-info":"",m=I=>{s!=null&&s.onChange&&(s==null||s.onChange(I)),k(I)};return y.jsxs("div",{className:Ne(C("zep-relative","zep-inline-block","zep-text-left","zep-w-full",{"zep-cursor-not-allowed zep-opacity-disabled":e},s.className)),"data-testid":"zep-drop-down",children:[y.jsx(j,{disabled:p,...s,onChange:m,value:(s==null?void 0:s.value)||g,ref:z,children:({open:I})=>{var _,U;const $=Fe(D.current)<ut,R=i?void 0:l,T=((_=s==null?void 0:s.value)==null?void 0:_.name)||(g==null?void 0:g.name)||R,v=e?"zep-text-opacity-disabled":!((U=s==null?void 0:s.value)!=null&&U.name)&&!(g!=null&&g.name)&&!i?"zep-text-typography-dark-100/70":"zep-text-typography-dark-100",Z=C("zep-bg-background-light","zep-inline-flex","zep-justify-between","zep-rounded-4","zep-border-solid","zep-pl-1","zep-pr-0.75","zep-py-0.75","zep-font-roboto","zep-w-full","zep-outline-none",h?"zep-border-2 zep-border-error":"zep-border-1 zep-border-neutral-dark-default",v,{"zep-bg-background-medium":i},{"zep-ring":I},{"zep-active:zep-ring":!p},{"zep-ring-offset-1":!p},{"focus-visible:zep-ring":!p},{"zep-ring-focus":!p},{"zep-cursor-not-allowed":p}),ee=C("zep-absolute","zep-shadow-sm","zep-py-0.25","zep-z-10","zep-w-full","zep-max-h-[268px]","zep-origin-top-right","zep-rounded-4","zep-bg-background-light","focus:zep-outline-none","zep-overflow-hidden","zep-overflow-y-auto",$?"zep-mb-[-25px]":"zep-mt-0.25",{"zep-bottom-full":$}),te=C(p?"zep-text-opacity-disabled":"zep-text-typography-dark-100","zep-shrink-0","zep-transition-transform","zep-duration-300",{"zep-rotate-180":I});return y.jsxs(y.Fragment,{children:[n&&y.jsxs(j.Label,{className:C("zep-block","zep-mb-0.5",{"zep-text-opacity-disabled":e}),children:[n,!u&&y.jsx("span",{className:"zep-ml-0.25",children:t})]}),y.jsx(j.Button,{className:Z,ref:D,title:T,"data-testid":"zep-drop-down-button",children:y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"zep-truncate",children:T}),y.jsx(ne,{className:te,name:"chevron-mini-down",role:"img",size:24})]})}),y.jsx(j.Options,{className:ee,"data-testid":"zep-drop-down-menu",children:a.map((P,ie)=>y.jsx(j.Option,{value:P,title:P.name,className:({active:F,selected:N})=>st(F,N),children:({selected:F})=>y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"zep-truncate",children:P.name}),F&&y.jsx(ne,{name:"check",role:"img",size:24,className:"zep-absolute zep-right-1"})]})},P.id))})]})}}),o&&y.jsxs("div",{className:C("zep-mt-0.25",{"zep-text-typography-dark-100":!h&&!S},"zep-text-0.875","zep-flex",r),children:[b!=="default"&&y.jsx(ne,{name:h?"warning-triangle-filled":"info-circle-filled",role:"img",size:24,className:"zep-mr-0.5 zep-shrink-0"}),y.jsx("span",{className:"zep-mt-0.125",children:o})]})]})});try{pe.displayName="DropDown",pe.__docgenInfo={description:"",displayName:"DropDown",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"DropDownItem[]"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"DropDownItem"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"string"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},notRequiredHint:{defaultValue:{value:"(optional)"},description:"",name:"notRequiredHint",required:!1,type:{name:"string"}},state:{defaultValue:{value:"default"},description:"",name:"state",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"info"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((item: string) => void)"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"enum",value:[{value:'"div"'}]}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | ((bag: ListboxRenderPropArg<any>) => string)"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"any"}},by:{defaultValue:null,description:"",name:"by",required:!1,type:{name:"string | ((a: any, z: any) => boolean)"}},horizontal:{defaultValue:null,description:"",name:"horizontal",required:!1,type:{name:"boolean"}},form:{defaultValue:null,description:"",name:"form",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},multiple:{defaultValue:null,description:"",name:"multiple",required:!1,type:{name:"boolean"}}}}}catch{}export{pe as D};
//# sourceMappingURL=DropDown-d6d1da9f.js.map
