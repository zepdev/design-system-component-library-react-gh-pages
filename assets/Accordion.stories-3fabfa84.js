import{j as t,c as y}from"./clsx-667af910.js";import{w as Z,u as G,e as J}from"./index-36a8f999.js";import{R as b,r as s}from"./index-37ba2b57.js";import{F as W}from"./Icon-bb85871a.js";import{f as ee}from"./focus-d7245c50.js";import{S as _,D as T,y as C,T as te,o as P,u as A,X as R,I as X,s as re,e as ne,b as g}from"./keyboard-c0eee377.js";import{c as se,d as w,C as oe,r as ae}from"./open-closed-e74d4eda.js";import{S as le}from"./Spacing-a8401166.js";import"./_commonjsHelpers-de833af9.js";import"./_baseIsEqual-976d9d82.js";import"./index-03bbf7d1.js";import"./uniq-9fca3600.js";import"./index-356e4a49.js";import"./index-47d55b97.js";var O;let ie=(O=b.startTransition)!=null?O:function(e){e()};var ce=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ce||{}),de=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(de||{});let pe={0:e=>({...e,disclosureState:A(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,r){return e.buttonId===r.buttonId?e:{...e,buttonId:r.buttonId}},3(e,r){return e.panelId===r.panelId?e:{...e,panelId:r.panelId}}},$=s.createContext(null);$.displayName="DisclosureContext";function N(e){let r=s.useContext($);if(r===null){let i=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,N),i}return r}let B=s.createContext(null);B.displayName="DisclosureAPIContext";function Q(e){let r=s.useContext(B);if(r===null){let i=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Q),i}return r}let F=s.createContext(null);F.displayName="DisclosurePanelContext";function ue(){return s.useContext(F)}function me(e,r){return A(r.type,pe,e,r)}let xe=s.Fragment;function he(e,r){let{defaultOpen:i=!1,...d}=e,x=s.useRef(null),n=C(r,te(m=>{x.current=m},e.as===void 0||e.as===s.Fragment)),a=s.useRef(null),u=s.useRef(null),o=s.useReducer(me,{disclosureState:i?0:1,linkedPanel:!1,buttonRef:u,panelRef:a,buttonId:null,panelId:null}),[{disclosureState:c,buttonId:p},S]=o,h=P(m=>{S({type:1});let l=ne(x);if(!l||!p)return;let f=(()=>m?m instanceof HTMLElement?m:m.current instanceof HTMLElement?m.current:l.getElementById(p):l.getElementById(p))();f==null||f.focus()}),j=s.useMemo(()=>({close:h}),[h]),E=s.useMemo(()=>({open:c===0,close:h}),[c,h]),v={ref:n};return b.createElement($.Provider,{value:o},b.createElement(B.Provider,{value:j},b.createElement(se,{value:A(c,{0:w.Open,1:w.Closed})},R({ourProps:v,theirProps:d,slot:E,defaultTag:xe,name:"Disclosure"}))))}let fe="button";function Se(e,r){let i=X(),{id:d=`headlessui-disclosure-button-${i}`,...x}=e,[n,a]=N("Disclosure.Button"),u=ue(),o=u===null?!1:u===n.panelId,c=s.useRef(null),p=C(c,r,o?null:n.buttonRef);s.useEffect(()=>{if(!o)return a({type:2,buttonId:d}),()=>{a({type:2,buttonId:null})}},[d,a,o]);let S=P(l=>{var f;if(o){if(n.disclosureState===1)return;switch(l.key){case g.Space:case g.Enter:l.preventDefault(),l.stopPropagation(),a({type:0}),(f=n.buttonRef.current)==null||f.focus();break}}else switch(l.key){case g.Space:case g.Enter:l.preventDefault(),l.stopPropagation(),a({type:0});break}}),h=P(l=>{switch(l.key){case g.Space:l.preventDefault();break}}),j=P(l=>{var f;ae(l.currentTarget)||e.disabled||(o?(a({type:0}),(f=n.buttonRef.current)==null||f.focus()):a({type:0}))}),E=s.useMemo(()=>({open:n.disclosureState===0}),[n]),v=re(e,c),m=o?{ref:p,type:v,onKeyDown:S,onClick:j}:{ref:p,id:d,type:v,"aria-expanded":n.disclosureState===0,"aria-controls":n.linkedPanel?n.panelId:void 0,onKeyDown:S,onKeyUp:h,onClick:j};return R({ourProps:m,theirProps:x,slot:E,defaultTag:fe,name:"Disclosure.Button"})}let je="div",ye=_.RenderStrategy|_.Static;function ge(e,r){let i=X(),{id:d=`headlessui-disclosure-panel-${i}`,...x}=e,[n,a]=N("Disclosure.Panel"),{close:u}=Q("Disclosure.Panel"),o=C(r,n.panelRef,j=>{ie(()=>a({type:j?4:5}))});s.useEffect(()=>(a({type:3,panelId:d}),()=>{a({type:3,panelId:null})}),[d,a]);let c=oe(),p=(()=>c!==null?(c&w.Open)===w.Open:n.disclosureState===0)(),S=s.useMemo(()=>({open:n.disclosureState===0,close:u}),[n,u]),h={ref:o,id:d};return b.createElement(F.Provider,{value:n.panelId},R({ourProps:h,theirProps:x,slot:S,defaultTag:je,features:ye,visible:p,name:"Disclosure.Panel"}))}let be=T(he),ve=T(Se),ze=T(ge),D=Object.assign(be,{Button:ve,Panel:ze});const k=s.forwardRef(({items:e,className:r,...i},d)=>t.jsx(t.Fragment,{children:e.map((x,n)=>{const{title:a,content:u,disabled:o}=x;return t.jsx(D,{children:({open:c})=>{const p=y("zep-transition-transform","zep-duration-500","zep-shrink-0",{"zep-rotate-180":c});return t.jsxs("div",{"data-disabled":o,className:y("zep-@container","first:zep-border-t-[0]","zep-border-t-1","last:zep-border-b-1","zep-border-greyscale-400","[&[data-disabled]]:zep-border-t-greyscale-400/40","[&[data-disabled]+*]:zep-border-t-greyscale-400/40","[&[data-disabled]]:last:zep-border-b-greyscale-400/40",{"[&+*]:hover:!zep-border-t-neutral-dark-active":!o},{"hover:!zep-border-neutral-dark-active":!o},r),children:[t.jsx(D.Button,{disabled:o,className:y("zep-typography-headlineXS-fluid-cqi","zep-w-full",ee,"focus-visible:zep-ring-offset-1","zep-py-0.75","zep-px-0.5","sm:zep-py-1.25","sm:zep-px-1",{"zep-cursor-not-allowed":o},{"zep-opacity-disabled":o}),...i,ref:d,"data-testid":`zep-accordion-button-${n}`,children:t.jsxs(le,{direction:"row",justifyContent:"between",gap:"1.5",wrap:"nowrap",className:"zep-w-full",children:[t.jsx("span",{className:"zep-text-left",children:a}),t.jsx("div",{className:p,children:t.jsx(W,{className:y("zep-min-w-[24px] !zep-grow-0 zep-justify-end"),name:"chevron-mini-down"})})]})}),t.jsx(D.Panel,{className:y({"zep-hidden":!c},"zep-text-typography-dark-100","zep-pt-0.75","zep-pb-2","zep-px-0.5","sm:zep-pt-1.25","sm:zep-pb-2.5","sm:zep-px-1","zep-typography-bodyText"),children:u})]})}},`${a}-${n}`)})}));try{k.displayName="Accordion",k.__docgenInfo={description:"",displayName:"Accordion",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"AccordionItem[]"}}}}}catch{}const Oe={title:"Components/Accordion",component:k,tags:["autodocs"],argTypes:{}},Y=[{title:"Accordion 1",content:t.jsxs(t.Fragment,{children:[t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"})]})},{title:"Accordion 2",content:t.jsxs(t.Fragment,{children:[t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"}),t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"})]})},{title:"Accordion 3 with a very long title that should wrap to the next line if there is not enough space",content:t.jsxs(t.Fragment,{children:[t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"})]})},{title:"Accordion 4",disabled:!0,content:t.jsxs(t.Fragment,{children:[t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"})]})},{title:"Accordion 5",content:t.jsxs(t.Fragment,{children:[t.jsx("p",{children:"Some text here"}),t.jsx("p",{children:"Some text there"})]})}],z={args:{items:Y},render:e=>t.jsx("div",{className:"zep-max-w-[712px]",children:t.jsx(k,{...e})})},Ie=2,M=`zep-accordion-button-${Ie}`,I={args:{items:Y},play:async({canvasElement:e})=>{const r=Z(e);await G.click(r.getByTestId(M)),await J(r.getByTestId(M)).toHaveAttribute("data-headlessui-state","open")}};var H,L,q;z.parameters={...z.parameters,docs:{...(H=z.parameters)==null?void 0:H.docs,source:{originalSource:`{
  args: {
    items
  },
  render: args => <div className="zep-max-w-[712px]">
      <Accordion {...args} />
    </div>
}`,...(q=(L=z.parameters)==null?void 0:L.docs)==null?void 0:q.source}}};var K,U,V;I.parameters={...I.parameters,docs:{...(K=I.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: ({
    items
  } as AccordionProps),
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    await userEvent.click(canvas.getByTestId(testItem));
    await expect(canvas.getByTestId(testItem)).toHaveAttribute('data-headlessui-state', 'open');
  }
}`,...(V=(U=I.parameters)==null?void 0:U.docs)==null?void 0:V.source}}};const Me=["Default","ExpandAnItem"];export{z as Default,I as ExpandAnItem,Me as __namedExportsOrder,Oe as default};
//# sourceMappingURL=Accordion.stories-3fabfa84.js.map
