import{j as n,c as ee}from"./clsx-667af910.js";import{r as o,R}from"./index-37ba2b57.js";import{l as C,S as se,D as q,y as U,a as Z,o as $,X as B,I as Te,s as ye,u as k,e as ve,b as v}from"./keyboard-c0eee377.js";import{c as xe,p as ze,I as D,N as X,O as w,M as z,t as _e}from"./hidden-6a4b5cec.js";import{f as Ie}from"./focus-d7245c50.js";import"./_commonjsHelpers-de833af9.js";function je(){let e=o.useRef(!1);return C(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Ee({onFocus:e}){let[t,a]=o.useState(!0),r=je();return t?R.createElement(xe,{as:"button",type:"button",features:ze.Focusable,onFocus:i=>{i.preventDefault();let s,u=50;function T(){if(u--<=0){s&&cancelAnimationFrame(s);return}if(e()){if(cancelAnimationFrame(s),!r.current)return;a(!1);return}s=requestAnimationFrame(T)}s=requestAnimationFrame(T)}}):null}const fe=o.createContext(null);function Le(){return{groups:new Map,get(e,t){var a;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let i=(a=r.get(t))!=null?a:0;r.set(t,i+1);let s=Array.from(r.keys()).indexOf(t);function u(){let T=r.get(t);T>1?r.set(t,T-1):r.delete(t)}return[s,u]}}}function Ne({children:e}){let t=o.useRef(Le());return o.createElement(fe.Provider,{value:t},e)}function ge(e){let t=o.useContext(fe);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let a=$e(),[r,i]=t.current.get(e,a);return o.useEffect(()=>i,[]),r}function $e(){var e,t,a;let r=(a=(t=(e=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?a:null;if(!r)return Symbol();let i=[],s=r;for(;s;)i.push(s.index),s=s.return;return"$."+i.join(".")}var we=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(we||{}),Re=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Re||{}),Se=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Se||{});let Me={0(e,t){var a;let r=D(e.tabs,d=>d.current),i=D(e.panels,d=>d.current),s=r.filter(d=>{var h;return!((h=d.current)!=null&&h.hasAttribute("disabled"))}),u={...e,tabs:r,panels:i};if(t.index<0||t.index>r.length-1){let d=k(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>k(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return u;let h=k(d,{0:()=>r.indexOf(s[0]),1:()=>r.indexOf(s[s.length-1])});return{...u,selectedIndex:h===-1?e.selectedIndex:h}}let T=r.slice(0,t.index),_=[...r.slice(t.index),...T].find(d=>s.includes(d));if(!_)return u;let x=(a=r.indexOf(_))!=null?a:e.selectedIndex;return x===-1&&(x=e.selectedIndex),{...u,selectedIndex:x}},1(e,t){var a;if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],i=D([...e.tabs,t.tab],u=>u.current),s=(a=i.indexOf(r))!=null?a:e.selectedIndex;return s===-1&&(s=e.selectedIndex),{...e,tabs:i,selectedIndex:s}},2(e,t){return{...e,tabs:e.tabs.filter(a=>a!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:D([...e.panels,t.panel],a=>a.current)}},4(e,t){return{...e,panels:e.panels.filter(a=>a!==t.panel)}}},te=o.createContext(null);te.displayName="TabsDataContext";function S(e){let t=o.useContext(te);if(t===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,S),a}return t}let ae=o.createContext(null);ae.displayName="TabsActionsContext";function ne(e){let t=o.useContext(ae);if(t===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,ne),a}return t}function Ae(e,t){return k(t.type,Me,e,t)}let De=o.Fragment;function ke(e,t){let{defaultIndex:a=0,vertical:r=!1,manual:i=!1,onChange:s,selectedIndex:u=null,...T}=e;const _=r?"vertical":"horizontal",x=i?"manual":"auto";let d=u!==null,h=U(t),[c,P]=o.useReducer(Ae,{selectedIndex:u??a,tabs:[],panels:[]}),b=o.useMemo(()=>({selectedIndex:c.selectedIndex}),[c.selectedIndex]),M=Z(s||(()=>{})),A=Z(c.tabs),m=o.useMemo(()=>({orientation:_,activation:x,...c}),[_,x,c]),f=$(p=>(P({type:1,tab:p}),()=>P({type:2,tab:p}))),E=$(p=>(P({type:3,panel:p}),()=>P({type:4,panel:p}))),L=$(p=>{N.current!==p&&M.current(p),d||P({type:0,index:p})}),N=Z(d?e.selectedIndex:c.selectedIndex),J=o.useMemo(()=>({registerTab:f,registerPanel:E,change:L}),[]);C(()=>{P({type:0,index:u??a})},[u]),C(()=>{if(N.current===void 0||c.tabs.length<=0)return;let p=D(c.tabs,j=>j.current);p.some((j,l)=>c.tabs[l]!==j)&&L(p.indexOf(c.tabs[N.current]))});let Q={ref:h};return R.createElement(Ne,null,R.createElement(ae.Provider,{value:J},R.createElement(te.Provider,{value:m},m.tabs.length<=0&&R.createElement(Ee,{onFocus:()=>{var p,j;for(let l of A.current)if(((p=l.current)==null?void 0:p.tabIndex)===0)return(j=l.current)==null||j.focus(),!0;return!1}}),B({ourProps:Q,theirProps:T,slot:b,defaultTag:De,name:"Tabs"}))))}let Ce="div";function Oe(e,t){let{orientation:a,selectedIndex:r}=S("Tab.List"),i=U(t);return B({ourProps:{ref:i,role:"tablist","aria-orientation":a},theirProps:e,slot:{selectedIndex:r},defaultTag:Ce,name:"Tabs.List"})}let Fe="button";function Ge(e,t){var a,r;let i=Te(),{id:s=`headlessui-tabs-tab-${i}`,...u}=e,{orientation:T,activation:_,selectedIndex:x,tabs:d,panels:h}=S("Tab"),c=ne("Tab"),P=S("Tab"),b=o.useRef(null),M=U(b,t);C(()=>c.registerTab(b),[c,b]);let A=ge("tabs"),m=d.indexOf(b);m===-1&&(m=A);let f=m===x,E=$(l=>{var I;let V=l();if(V===X.Success&&_==="auto"){let he=(I=ve(b))==null?void 0:I.activeElement,re=P.tabs.findIndex(Pe=>Pe.current===he);re!==-1&&c.change(re)}return V}),L=$(l=>{let I=d.map(V=>V.current).filter(Boolean);if(l.key===v.Space||l.key===v.Enter){l.preventDefault(),l.stopPropagation(),c.change(m);return}switch(l.key){case v.Home:case v.PageUp:return l.preventDefault(),l.stopPropagation(),E(()=>w(I,z.First));case v.End:case v.PageDown:return l.preventDefault(),l.stopPropagation(),E(()=>w(I,z.Last))}if(E(()=>k(T,{vertical(){return l.key===v.ArrowUp?w(I,z.Previous|z.WrapAround):l.key===v.ArrowDown?w(I,z.Next|z.WrapAround):X.Error},horizontal(){return l.key===v.ArrowLeft?w(I,z.Previous|z.WrapAround):l.key===v.ArrowRight?w(I,z.Next|z.WrapAround):X.Error}}))===X.Success)return l.preventDefault()}),N=o.useRef(!1),J=$(()=>{var l;N.current||(N.current=!0,(l=b.current)==null||l.focus({preventScroll:!0}),c.change(m),_e(()=>{N.current=!1}))}),Q=$(l=>{l.preventDefault()}),p=o.useMemo(()=>({selected:f}),[f]),j={ref:M,onKeyDown:L,onMouseDown:Q,onClick:J,id:s,role:"tab",type:ye(e,b),"aria-controls":(r=(a=h[m])==null?void 0:a.current)==null?void 0:r.id,"aria-selected":f,tabIndex:f?0:-1};return B({ourProps:j,theirProps:u,slot:p,defaultTag:Fe,name:"Tabs.Tab"})}let qe="div";function Ue(e,t){let{selectedIndex:a}=S("Tab.Panels"),r=U(t),i=o.useMemo(()=>({selectedIndex:a}),[a]);return B({ourProps:{ref:r},theirProps:e,slot:i,defaultTag:qe,name:"Tabs.Panels"})}let Be="div",We=se.RenderStrategy|se.Static;function Ve(e,t){var a,r,i,s;let u=Te(),{id:T=`headlessui-tabs-panel-${u}`,tabIndex:_=0,...x}=e,{selectedIndex:d,tabs:h,panels:c}=S("Tab.Panel"),P=ne("Tab.Panel"),b=o.useRef(null),M=U(b,t);C(()=>P.registerPanel(b),[P,b]);let A=ge("panels"),m=c.indexOf(b);m===-1&&(m=A);let f=m===d,E=o.useMemo(()=>({selected:f}),[f]),L={ref:M,id:T,role:"tabpanel","aria-labelledby":(r=(a=h[m])==null?void 0:a.current)==null?void 0:r.id,tabIndex:f?_:-1};return!f&&((i=x.unmount)==null||i)&&!((s=x.static)!=null&&s)?R.createElement(xe,{as:"span",...L}):B({ourProps:L,theirProps:x,slot:E,defaultTag:Be,features:We,visible:f,name:"Tabs.Panel"})}let Xe=q(Ge),Ye=q(ke),He=q(Oe),Ke=q(Ue),Je=q(Ve),W=Object.assign(Xe,{Group:Ye,List:He,Panels:Ke,Panel:Je});const g=({disabled:e,children:t})=>n.jsx(W,{className:"zep-group zep-flex zep-flex-col zep-justify-between zep-gap-0.5 zep-outline-none",disabled:e,"data-testid":"zep-tab",children:({selected:a})=>n.jsxs(n.Fragment,{children:[n.jsx("span",{className:ee("zep-typography-bodyText zep-rounded-4 zep-px-1 zep-outline-none zep-ring-focus  group-focus-visible:zep-text-typography-dark-100 group-focus-visible:zep-ring",{"zep-text-typography-dark-100":a,"zep-text-typography-dark-70/70":!a,"zep-text-typography-neutral-dark-disabled/40":e}),children:t}),n.jsx("span",{className:ee("zep-w-full",{"zep-h-0.25 zep-bg-primary-default":a,"zep-h-[1px] zep-bg-transparent group-hover:zep-bg-primary-default":!a&&!e})})]})});try{g.displayName="Tab",g.__docgenInfo={description:"",displayName:"Tab",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const O=({children:e})=>n.jsx(W.Group,{"data-testid":"zep-tab-group",as:"div",children:e});try{O.displayName="TabGroup",O.__docgenInfo={description:"",displayName:"TabGroup",props:{}}}catch{}const F=({children:e})=>n.jsxs(W.List,{className:"zep-relative zep-flex zep-w-full zep-flex-col zep-overflow-x-scroll zep-bg-greyscale-0 zep-pt-0.75 sm:zep-overflow-visible","data-testid":"zep-tab-list",children:[n.jsx("span",{className:"zep-absolute zep-bottom-[0] zep-flex zep-w-full zep-border-b-1 zep-border-solid zep-border-greyscale-400"}),n.jsx("div",{className:"zep-relative zep-flex zep-gap-0.5 zep-whitespace-nowrap",children:e})]});try{F.displayName="TabList",F.__docgenInfo={description:"",displayName:"TabList",props:{}}}catch{}const y=({children:e})=>n.jsx(W.Panel,{className:ee(Ie,"zep-rounded-4"),"data-testid":"zep-tab-panel",children:e});try{y.displayName="TabPanel",y.__docgenInfo={description:"",displayName:"TabPanel",props:{}}}catch{}const G=({children:e})=>n.jsx(W.Panels,{className:"zep-pt-1","data-testid":"zep-tab-panels",children:e});try{G.displayName="TabPanels",G.__docgenInfo={description:"",displayName:"TabPanels",props:{}}}catch{}const rt={title:"Components/Tabs",component:g,tags:["autodocs"],argTypes:{disabled:{control:"boolean"}}},Y={render:()=>n.jsxs(O,{children:[n.jsxs(F,{children:[n.jsx(g,{children:"Tab 1"}),n.jsx(g,{children:"Tab 2"}),n.jsx(g,{children:"Tab 3"})]}),n.jsxs(G,{children:[n.jsx(y,{children:"Panel 1"}),n.jsx(y,{children:"Panel 2"}),n.jsx(y,{children:"Panel 3"})]})]})},H={render:()=>n.jsxs(O,{children:[n.jsxs(F,{children:[n.jsx(g,{children:"Tab 1"}),n.jsx(g,{disabled:!0,children:"Tab 2"}),n.jsx(g,{children:"Tab 3"})]}),n.jsxs(G,{children:[n.jsx(y,{children:"Panel 1"}),n.jsx(y,{children:"Panel 2"}),n.jsx(y,{children:"Panel 3"})]})]})},K={render:()=>n.jsxs(O,{children:[n.jsx("span",{}),n.jsxs(F,{children:[n.jsx(g,{children:"Short tab 1"}),n.jsx(g,{children:"Medium text tab 2"}),n.jsx(g,{children:"Long text for the great tab 3"})]}),n.jsxs(G,{children:[n.jsxs(y,{children:[n.jsx("h2",{className:"zep-text-3",children:"Panel 1 Title"}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus, illum inventore voluptatibus totam ipsa impedit quo assumenda modi aperiam. Mollitia, facilis. Impedit minima adipisci pariatur magnam aspernatur nesciunt deserunt in?"]}),n.jsxs(y,{children:[n.jsx("h2",{className:"zep-text-3",children:"Panel 2 Title"}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus, illum inventore voluptatibus totam ipsa impedit quo assumenda modi aperiam. Mollitia, facilis. Impedit minima adipisci pariatur magnam aspernatur nesciunt deserunt in?"]}),n.jsxs(y,{children:[n.jsx("h2",{className:"zep-text-3",children:"Panel 3 Title"}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus, illum inventore voluptatibus totam ipsa impedit quo assumenda modi aperiam. Mollitia, facilis. Impedit minima adipisci pariatur magnam aspernatur nesciunt deserunt in?"]})]})]})};var le,ie,oe;Y.parameters={...Y.parameters,docs:{...(le=Y.parameters)==null?void 0:le.docs,source:{originalSource:`{
  render: () => <TabGroup>
      <TabList>
        <Tab>Tab 1</Tab>
        <Tab>Tab 2</Tab>
        <Tab>Tab 3</Tab>
      </TabList>
      <TabPanels>
        <TabPanel>Panel 1</TabPanel>
        <TabPanel>Panel 2</TabPanel>
        <TabPanel>Panel 3</TabPanel>
      </TabPanels>
    </TabGroup>
}`,...(oe=(ie=Y.parameters)==null?void 0:ie.docs)==null?void 0:oe.source}}};var ue,ce,de;H.parameters={...H.parameters,docs:{...(ue=H.parameters)==null?void 0:ue.docs,source:{originalSource:`{
  render: () => <TabGroup>
      <TabList>
        <Tab>Tab 1</Tab>
        <Tab disabled>Tab 2</Tab>
        <Tab>Tab 3</Tab>
      </TabList>
      <TabPanels>
        <TabPanel>Panel 1</TabPanel>
        <TabPanel>Panel 2</TabPanel>
        <TabPanel>Panel 3</TabPanel>
      </TabPanels>
    </TabGroup>
}`,...(de=(ce=H.parameters)==null?void 0:ce.docs)==null?void 0:de.source}}};var pe,be,me;K.parameters={...K.parameters,docs:{...(pe=K.parameters)==null?void 0:pe.docs,source:{originalSource:`{
  render: () => <TabGroup>
      <span></span>
      <TabList>
        <Tab>Short tab 1</Tab>
        <Tab>Medium text tab 2</Tab>
        <Tab>Long text for the great tab 3</Tab>
      </TabList>
      <TabPanels>
        <TabPanel>
          <h2 className="zep-text-3">Panel 1 Title</h2>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus, illum inventore voluptatibus totam ipsa
          impedit quo assumenda modi aperiam. Mollitia, facilis. Impedit minima adipisci pariatur magnam aspernatur
          nesciunt deserunt in?
        </TabPanel>
        <TabPanel>
          <h2 className="zep-text-3">Panel 2 Title</h2>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus, illum inventore voluptatibus totam ipsa
          impedit quo assumenda modi aperiam. Mollitia, facilis. Impedit minima adipisci pariatur magnam aspernatur
          nesciunt deserunt in?
        </TabPanel>
        <TabPanel>
          <h2 className="zep-text-3">Panel 3 Title</h2>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus, illum inventore voluptatibus totam ipsa
          impedit quo assumenda modi aperiam. Mollitia, facilis. Impedit minima adipisci pariatur magnam aspernatur
          nesciunt deserunt in?
        </TabPanel>
      </TabPanels>
    </TabGroup>
}`,...(me=(be=K.parameters)==null?void 0:be.docs)==null?void 0:me.source}}};const st=["Default","TabDisabled","TabVariableLength"];export{Y as Default,H as TabDisabled,K as TabVariableLength,st as __namedExportsOrder,rt as default};
//# sourceMappingURL=Tabs.stories-3a2ee084.js.map
